fragment MapPhraseWithVotesFragment on MapPhraseWithVotes {
  phrase
  phrase_id
  language_code
  dialect_code
  geo_code
  definition
  definition_id
  up_votes
  down_votes
  translation_id
}

fragment WordWithVotesFragment on MapWordWithVotes {
  word
  word_id
  language_code
  dialect_code
  geo_code
  definition
  definition_id
  up_votes
  down_votes
  translation_id
}

fragment MapFileOutputFragment on MapFileOutput {
  error
  mapFileInfo {
    is_original
    original_map_id
    translated_map_id
    map_file_name
    translated_percent
    language {
      language_code
      dialect_code
      geo_code
    }
    created_at
    created_by
    map_file_name_with_langs
    preview_file_url
    content_file_url
    content_file_id
  }
}

fragment MapFileOutputEdgeFragment on MapFileOutputEdge {
  cursor
  node {
    ...MapFileOutputFragment
  }
}

query GetOrigMapWords(
  $original_map_id: ID
  $o_language_code: String
  $t_language_code: String
  $t_dialect_code: String
  $t_geo_code: String
) {
  getOrigMapWords(
    input: {
      original_map_id: $original_map_id
      o_language_code: $o_language_code
      t_language_code: $t_language_code
      t_dialect_code: $t_dialect_code
      t_geo_code: $t_geo_code
    }
  ) {
    origMapWords {
      word
      word_id
      language_code
      dialect_code
      geo_code
      definition
      definition_id
      translations {
        ...MapPhraseWithVotesFragment
        ...WordWithVotesFragment
      }
    }
  }
}

query GetOrigMapPhrases(
  $original_map_id: ID
  $o_language_code: String
  $t_language_code: String
  $t_dialect_code: String
  $t_geo_code: String
) {
  getOrigMapPhrases(
    input: {
      original_map_id: $original_map_id
      o_language_code: $o_language_code
      t_language_code: $t_language_code
      t_dialect_code: $t_dialect_code
      t_geo_code: $t_geo_code
    }
  ) {
    origMapPhrases {
      phrase
      phrase_id
      language_code
      dialect_code
      geo_code
      definition
      definition_id
      translations {
        ...MapPhraseWithVotesFragment
        ...WordWithVotesFragment
      }
    }
  }
}

query GetAllMapsList($lang: LanguageInput, $after: ID, $first: Int) {
  getAllMapsList(input: { lang: $lang }, after: $after, first: $first) {
    edges {
      ...MapFileOutputEdgeFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}

query GetMapDetails($id: ID!, $is_original: Boolean!) {
  getMapDetails(input: { map_id: $id, is_original: $is_original }) {
    ...MapFileOutputFragment
  }
}

query IsAdminLoggedIn($input: IsAdminIdInput!) {
  loggedInIsAdmin(input: $input) {
    isAdmin
  }
}

mutation MapUpload(
  $file: Upload!
  $previewFileId: String
  $file_type: String!
  $file_size: Int!
) {
  mapUpload(
    file: $file
    previewFileId: $previewFileId
    file_type: $file_type
    file_size: $file_size
  ) {
    error
    mapFileOutput {
      ...MapFileOutputFragment
    }
  }
}

mutation MapDelete($mapId: String!, $is_original: Boolean!) {
  mapDelete(input: { mapId: $mapId, is_original: $is_original }) {
    error
    deletedMapId
  }
}

mutation MapsTranslationsReset {
  mapsTranslationsReset {
    error
  }
}

mutation MapsReTranslate($forLangTag: String) {
  mapsReTranslate(forLangTag: $forLangTag) {
    error
  }
}
